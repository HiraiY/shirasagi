<% addons = @item.class.addons.select { |addon| [Gws::Addon::Monitor::Group, Gws::Addon::GroupPermission, Gws::Addon::Monitor::Category, Gws::Addon::ReadableSetting].exclude?(addon.klass) } %>

<%= form_for :item, url: { action: :publish }, html: { id: "item-form", multipart: true, autocomplete: :off } do |f| %>
  <%= error_messages_for :item %>

  <div class="addon-views">
    <div class="addon-view" id="addon-basic">
      <div class="addon-head"><h2><%= t("gws/monitor.confirm.publish") %></h2></div>
    </div>
    <%= render file: "_addons_show", locals: { f: f, addons: addons } if addons.size > 0 %>
  </div>

  <footer class="send">
    <% if @crud_buttons %>
      <% @crud_buttons.call f %>
    <% else %>
      <%= f.submit t("gws/monitor.buttons.publish"), class: 'btn-primary', data: { confirm: I18n.t("gws/monitor.confirm.comment_answer") } %>
      <%= f.button t("ss.buttons.cancel"), class: 'btn-default', type: :reset, onclick: "location.href='#{url_for(action: :index)}'; return false;" %>
    <% end %>
  </footer>
<% end %>

<%= jquery do %> SS.confirmUnloading(); <% end %>
