<%
  @allowed_delegation ||= proc do |user|
    next true if @cur_user.gws_role_permit_any?(@cur_site, :delegate_all_gws_monitor_posts)

    next false unless @cur_user.gws_role_permit_any?(@cur_site, :delegate_private_gws_monitor_posts)
    next false unless user
    (@cur_user.groups.in_group(@cur_site).pluck(:id) & user.groups.in_group(@cur_site).pluck(:id)).present?
  end

  @workflow_js_options = {
    paths: {
      wizard: gws_monitor_workflow_wizard_path(id: @item),
      pages: gws_monitor_workflow_page_path(id: @item)
    }
  }
%>

<%= render file: "workflow/agents/addons/approver/_show" %>
