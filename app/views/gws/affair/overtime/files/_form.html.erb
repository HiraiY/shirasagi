<%
  capital_options = Gws::Affair::Capital.site(@cur_site).pluck(:no, :name, :id)
  capital_options.map! { |no, name, id| [ [ no.presence, name.presence ].compact.join(" "), id ] }

  duty_calendar = @cur_user.effective_duty_calendar(@cur_site)
  duty_hour = duty_calendar.default_duty_hour
  @item.start_at_hour ||= duty_hour.affair_end_at_hour
  @item.start_at_minute ||= duty_hour.affair_end_at_minute
  @item.end_at_hour ||= duty_hour.affair_end_at_hour + 1
  @item.end_at_minute ||= duty_hour.affair_end_at_minute
%>

<dl class="see">
  <dt><%= @model.t :capital_id %><%= @model.tt :capital_id %></dt>
  <dd><%= f.select :capital_id, capital_options, include_blank: true %></dd>

  <dt><%= @model.t :overtime_name %><%= @model.tt :overtime_name %></dt>
  <dd><%= f.text_field :overtime_name %></dd>

  <dt><%= @model.t :start_at %><%= @model.tt :start_at %></dt>
  <dd>
    <%= f.text_field :start_at_date, class: "date js-date" %>
    <%= f.select :start_at_hour, @item.start_at_hour_options %>
    <%= f.select :start_at_minute, @item.start_at_minute_options %>
    ã€œ
    <%= f.select :end_at_hour, @item.end_at_hour_options %>
    <%= f.select :end_at_minute, @item.end_at_minute_options %>
  </dd>

  <dt><%= @model.t :week_in_compensatory_minute %><%= @model.tt :week_in_compensatory_minute %></dt>
  <dd><%= f.select :week_in_compensatory_minute, @item.week_in_compensatory_minute_options %></dd>

  <dt><%= @model.t :week_out_compensatory_minute %><%= @model.tt :week_out_compensatory_minute %></dt>
  <dd><%= f.select :week_out_compensatory_minute, @item.week_out_compensatory_minute_options %></dd>

  <dt><%= @model.t :remark %><%= @model.tt :remark %></dt>
  <dd><%= f.text_area :remark %></dd>
</dl>
